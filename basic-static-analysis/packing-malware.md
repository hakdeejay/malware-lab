---
description: Compressing malware to disguise it's use.
---

# ðŸ—œ Packing Malware

They might use upx, this will add a compression stub at the begining of the malware, and it will compress the malware into ;\
1\. original pe header.\
2\. the compression stub.\
3\. the compressed data.

At run time the upx header will expand the compressed data to run the exe.

This is done to hide it self from Anit Virus programmes, so that when it runs, the AV won't see it as a threat.

To compare the difference between compressed and non compress malware.\
open the folder  :\
Desktop\PMAT-labs-main\labs\1-1.BasicStaticAnalysis\\

Ctrl drag the Malware.PackedAndNotPacked.exe.malz file to desktop.

Open the file, and click into the folder in 7z, and drag both files to the desktop.

Enter the password infected.

Now use the PEView to inspect both malware files.

The NotPacked file will appear very similar to our previos analysis

The packed file will have a UPX section, and the import address table will be a great deal smaller.

The two LoadLibraryA, and GetProcAddress suggest that the UPX needs to find other API calls. This is hiding it's functionality agian.

Checking the raw data again against the virtual data will also confirm the exe is compressed.\
\
